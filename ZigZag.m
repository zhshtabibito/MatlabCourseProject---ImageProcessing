%{
function res = ZigZag(m)
res = zeros(64,1);
for x=1:8
    for y=1:8
        if x+y>9
            slide = 17-x-y;
            if mod(slide,2)==0
                num = slide*(slide-1)/2+9-x;
            else
                num = slide*(slide-1)/2+9-y;
            end
            res(65-num) = m(x,y);
        elseif x+y<9
            slide = x+y-1;
            if mod(slide,2)==0
                num = slide*(slide-1)/2+x;
            else
                num = slide*(slide-1)/2+y;
            end
            res(num) = m(x,y);
        else
            res(28+x) = m(x,y);
        end
    end
end
end
%}

%{
Hash=[1, 2, 6, 7, 15,16,28,29,...
      3, 5, 8, 14,17,27,30,43,...
      4, 9, 13,18,26,31,42,44,...
      10,12,19,25,32,41,45,54,...
      11,20,24,33,40,46,53,55,...
      21,23,34,39,47,52,56,61,...
      22,35,38,48,51,57,60,62,... 
      36,37,49,50,58,59,63,64];
%}

function res = ZigZag(m)
res = [m(1,1);m(1,2);m(2,1);m(3,1);m(2,2);m(1,3);m(1,4);m(2,3);...
    m(3,2);m(4,1);m(5,1);m(4,2);m(3,3);m(2,4);m(1,5);m(1,6);...
    m(2,5);m(3,4);m(4,3);m(5,2);m(6,1);m(7,1);m(6,2);m(5,3);...
    m(4,4);m(3,5);m(2,6);m(1,7);m(1,8);m(2,7);m(3,6);m(4,5);...
    m(5,4);m(6,3);m(7,2);m(8,1);m(8,2);m(7,3);m(6,4);m(5,5);...
    m(4,6);m(3,7);m(2,8);m(3,8);m(4,7);m(5,6);m(6,5);m(7,4);...
    m(8,3);m(8,4);m(7,5);m(6,6);m(5,7);m(4,8);m(5,8);m(6,7);...
    m(7,6);m(8,5);m(8,6);m(7,7);m(6,8);m(7,8);m(8,7);m(8,8)];
end